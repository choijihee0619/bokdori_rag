# bokdori_rag

# 🐶 노인을 위한 복도리 AI 강아지 비서 인형 프로젝트

---

## 1. 프로젝트 개요

복도리 AI 비서 인형은 노인의 일상 안전과 정서적 돌봄, 금융 사기 예방, 소통 강화를 위해 카메라/마이크/스피커를 탑재한 인형형 IoT 기기와 AI 기반 백엔드 시스템이 통합된 서비스입니다. 음성/영상 인식, LLM 대화, 감정분석, 금융퀴즈, 실시간 안전 모니터링 등 다양한 기능을 제공합니다.

---

## 2. 주요 기능 및 흐름

### 2-1. 카메라 객체 인식 (YOLO)

#### 역할 및 시나리오

* **24시간 동작**: 실시간으로 카메라 입력 모니터링
* **사람 인식**:

  * YOLO 모델로 ‘사람’ 감지 시,
  * LLM이 시간대에 맞는 인사 및 건강 질문 자동 생성/발화
  * 객체 우선순위(예: 음식, 감정 등) 따라 맞춤 발화
  * 주요 이벤트(존재 여부, 식사, 감정 등) DB 저장
* **낙상 감지**:

  * 낙상 시나리오 학습/탑재
  * 낙상 징후 감지 시 대화 시도, 반응 없으면 가족·관리자 알림

### 2-2. 음성 대화 (STT, TTS, LLM)

* **Wakeword(“복돌아”, “복도라”, 등) 인식**

  * Picovoice 등 wakeword engine 사용
* **다중턴, 역할 기반 대화**

  * LLM 프롬프트 기반 감정/정보/상황 맞춤 대화
* **음성 감지**

  * VAD(Voice Activity Detection)로 음성 시작·끝 자동 감지
* **STT**: 음성→텍스트 변환 (Google, Whisper 등)
* **TTS**: 텍스트→음성 변환 (Google, Naver, ElevenLabs 등)

### 2-3. 금융퀴즈 및 보이스피싱 예방

* **객체 인식 후, 일정 시간에 맞춰 자동 발화**
* **금융 퀴즈/시나리오**

  * RAG(지식검색)로 사전 저장된 시나리오/퀴즈 선택
  * LLM이 사용자 상황에 맞게 출력
* **보이스피싱 시나리오 대응**

  * 위험 행동/의심 상황 발생 시, 경고/상담 유도

### 2-4. 감정일기/대화 분석 웹

* **DB(슈퍼베이스 또는 몽고DB)에 일일 대화/감정 저장**
* **GPT API를 통해 일기 형식 감정분석/요약**
* \*\*웹 프론트(Bolt 등)\*\*에서 감정일기 조회/시각화

---

## 3. 사용 기술/AI 모델

| 구분     | 주요 기술/툴                    | 설명                 |
| ------ | -------------------------- | ------------------ |
| 객체인식   | YOLOv8, Ultralytics        | 실시간 인물/이벤트 감지      |
| 음성 인식  | Picovoice, Google STT, VAD | 웨이크워드/음성분할/텍스트변환   |
| 음성 합성  | Google TTS, Naver CLOVA    | 텍스트→음성             |
| LLM    | OpenAI GPT-4.1-nano        | 자연어 대화/상황별 응답      |
| RAG    | LangChain+Pinecone         | 금융 퀴즈/시나리오 검색      |
| DB     | Supabase(추천) or MongoDB    | 대화, 감정, 이벤트, 알림 저장 |
| 감정일기분석 | GPT API                    | 대화내용 감정분석/요약       |
| 웹 프론트  | Bolt(HTML/CSS/JS)          | 일기/상태 시각화          |
| 백엔드    | FastAPI                    | API 통신             |

---

## 4. 시스템 구조도 (텍스트 버전)

```
[인형(카메라/마이크/스피커)]
    │         │
    ▼         ▼
[YOLO 객체인식]    [Wakeword/VAD]
    │         │
    ▼         ▼
[이벤트 발생]      [음성 녹음]
    │         │
    └──→ [STT 변환] ───────────────┐
          │                       │
[객체정보+텍스트]                 [텍스트]
    │                             │
    └────── [백엔드 API 서버] ───────┘
                │
         ┌──────┼─────────┐
         │    LangChain   │
         │  (GPT-4.1-nano │
         │   + Pinecone)  │
         └──────┬─────────┘
                │
      [슈퍼베이스/몽고DB 기록]
                │
          [TTS 변환]
                │
         [스피커로 출력]
```

* **웹(감정일기)**:

  * \[DB] ↔ \[GPT 감정요약] ↔ \[웹(Bolt) 시각화]

---

## 5. 개발/운영 단계(예시)

1. YOLO 객체인식 및 낙상 감지 모델 튜닝/테스트
2. Wakeword+STT+TTS+VAD 연동 및 안정화
3. LangChain+GPT-4.1-nano+RAG 시나리오 챗봇 개발
4. DB(Supabase) 설계 및 데이터 연동, 감정일기 자동화
5. Bolt 웹 UI와 백엔드 API 연결
6. 통합 테스트 및 사용자 피드백 반영

---

## 6. 예상 효과 및 가치

* 노인 안전 및 돌봄 효율 대폭 향상(실시간 감시, 낙상 예방)
* 정서 지원(대화, 감정일기), 고독감 완화
* 금융사기 위험 예방, 자산보호
* 가족/관리자와의 소통·관리 채널 강화
* 쉽고 친근한 UI, 저렴한 구축·운영비

---
